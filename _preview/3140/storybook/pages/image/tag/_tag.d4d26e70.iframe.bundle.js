(window.webpackJsonp=window.webpackJsonp||[]).push([[194],{"./src/pages/image/tag/_tag.vue":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.r(__webpack_exports__);var asyncToGenerator=__webpack_require__("../node_modules/.pnpm/@babel+runtime@7.18.9/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js"),vue=(__webpack_require__("../node_modules/.pnpm/regenerator-runtime@0.13.11/node_modules/regenerator-runtime/runtime.js"),__webpack_require__("../node_modules/.pnpm/vue@2.7.15/node_modules/vue/dist/vue.js")),dist_runtime=__webpack_require__("../node_modules/.pnpm/@nuxtjs+composition-api@0.33.1_j25mhj5aambesoof37dkoeldru/node_modules/@nuxtjs/composition-api/dist/runtime/index.mjs"),search=__webpack_require__("./src/stores/search.ts"),media=__webpack_require__("./src/constants/media.ts"),stores_media=__webpack_require__("./src/stores/media/index.ts"),validate_collection_params=__webpack_require__("./src/utils/validate-collection-params.ts"),VCollectionPage=__webpack_require__("./src/components/VCollectionPage.vue"),tag_tagvue_type_script_lang_ts_=Object(dist_runtime.b)({name:"VImageTagPage",components:{VCollectionPage:VCollectionPage.default},layout:"content-layout",validate:function validate(_ref){var params=_ref.params,$pinia=_ref.$pinia,mediaType=media.d,collectionParams=Object(validate_collection_params.b)({firstParam:"tag",mediaType:mediaType,params:params,$pinia:$pinia});return!!collectionParams&&(Object(validate_collection_params.a)(collectionParams,mediaType,$pinia),!0)},setup:function setup(){var mediaStore=Object(stores_media.a)(),searchStore=Object(search.b)(),collectionParams=Object(vue.computed)((function(){return searchStore.collectionParams})),results=Object(vue.ref)({type:media.d,items:[]});return Object(dist_runtime.i)(Object(asyncToGenerator.a)(regeneratorRuntime.mark((function _callee(){return regeneratorRuntime.wrap((function _callee$(_context){for(;;)switch(_context.prev=_context.next){case 0:return _context.next=2,mediaStore.fetchMedia();case 2:results.value.items=mediaStore.resultItems[media.d];case 3:case"end":return _context.stop()}}),_callee)})))),{collectionParams:collectionParams,results:results}}}),componentNormalizer=__webpack_require__("../node_modules/.pnpm/vue-loader@15.10.0_c6o4jnezmjuztgvwsjmw37opv4/node_modules/vue-loader/lib/runtime/componentNormalizer.js"),component=Object(componentNormalizer.a)(tag_tagvue_type_script_lang_ts_,(function render(){var _c=this._self._c;this._self._setupProxy;return this.collectionParams?_c("VCollectionPage",{attrs:{"collection-params":this.collectionParams,results:this.results,"media-type":"image"}}):this._e()}),[],!1,null,null,null);const __vuedocgen_export_0=component.exports;__webpack_exports__.default=__vuedocgen_export_0;installComponents(component,{VCollectionPage:__webpack_require__("./src/components/VCollectionPage.vue").default}),__vuedocgen_export_0.__docgenInfo={displayName:"VImageTagPage",exportName:"default",description:"",tags:{}}},"./src/utils/validate-collection-params.ts":function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"b",(function(){return validateCollectionParams})),__webpack_require__.d(__webpack_exports__,"a",(function(){return updateSearchStoreWithCollectionParams}));__webpack_require__("../node_modules/.pnpm/core-js@3.27.2/node_modules/core-js/modules/es.array.filter.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.27.2/node_modules/core-js/modules/es.object.to-string.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.27.2/node_modules/core-js/modules/es.array.map.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.27.2/node_modules/core-js/modules/es.string.trim.js"),__webpack_require__("../node_modules/.pnpm/core-js@3.27.2/node_modules/core-js/modules/es.array.concat.js");var _stores_provider__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__("./src/stores/provider.ts"),_utils_console__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__("./src/utils/console.ts"),_stores_feature_flag__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__("./src/stores/feature-flag.ts"),_stores_search__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__("./src/stores/search.ts");function validateCollectionParams(_ref){var firstParam=_ref.firstParam,mediaType=_ref.mediaType,params=_ref.params,$pinia=_ref.$pinia;return Object(_stores_feature_flag__WEBPACK_IMPORTED_MODULE_7__.c)($pinia).isOn("additional_search_views")?function _validate(_ref2){var firstParam=_ref2.firstParam,mediaType=_ref2.mediaType,params=_ref2.params,$pinia=_ref2.$pinia;if("tag"===firstParam)return params.tag?{collection:"tag",tag:params.tag}:null;var collectionParams=function parseCollectionPath(pathMatch){var pathMatchParts=pathMatch.split("/").map((function(part){return part.trim()})).filter((function(part){return""!==part}));if(1===pathMatchParts.length)return{collection:"source",source:pathMatchParts[0]};if(3===pathMatchParts.length&&"creator"===pathMatchParts[1])return{collection:"creator",creator:pathMatchParts[2],source:pathMatchParts[0]};return null}(params.pathMatch);if(!collectionParams)return null;if(!Object(_stores_provider__WEBPACK_IMPORTED_MODULE_5__.a)($pinia).isSourceNameValid(mediaType,collectionParams.source))return Object(_utils_console__WEBPACK_IMPORTED_MODULE_6__.b)("Attempting to get a ".concat(collectionParams.collection," collection for an invalid source name: ").concat(collectionParams.source)),null;return collectionParams}({firstParam:firstParam,mediaType:mediaType,params:params,$pinia:$pinia}):null}function updateSearchStoreWithCollectionParams(collectionParams,mediaType,$pinia){var searchStore=Object(_stores_search__WEBPACK_IMPORTED_MODULE_8__.b)($pinia);searchStore.setSearchType(mediaType),searchStore.setStrategy(collectionParams.collection,collectionParams)}}}]);